HTML

<div data-controller="events">
  <%= form_with url: "/add_event/search", format: :turbo_stream, method: :post, data: { "events-target": "searchForm" } do |form| %>
    <%= form.label :search_query, "Search for:" %>
    <%= form.text_field :search_query, data: { "events-target": "searchInput", action: "input->events#search" }  %>
  <% end %>

  Results:
  <div data-events-target="results" id="search_results"></div>
</div>



CONTROLLER

      if params[:search_query].present?
        @fighters = Fighter.where("name ilike ?", "%#{params[:search_query]}%")
      else
        @fighters = Fighter.all.limit(5)
      end
  
      respond_to do |format|
        if params[:search_query].present?
          format.turbo_stream { render turbo_stream: turbo_stream.update('search_results', partial: 'events/search_result') }
        else
          format.html { render :new }
        end
      end